@using System.Web.Mvc.Html
@using Umbraco.Web
@using solutions.starbucks.web.Controllers
@using solutions.starbucks.Model
@model ForgottenPasswordViewModel

@{
    Html.EnableClientValidation(true);
    Html.EnableUnobtrusiveJavaScript(true);
}

<a class="close-reveal-modal">&#215;</a>
<div id="forgotsuccess"></div>


<div id="forgottenPasswordForm">

   @using (Ajax.BeginForm("ProcessForgottenPassword", "AccountSurface", new AjaxOptions
   {
       HttpMethod = "POST",
       InsertionMode = InsertionMode.Replace,
       UpdateTargetId = "target",
       OnFailure = "ShowForgotError()",
       OnSuccess = "ShowForgotSuccess(data)"
   }, new { id = "forgotpassword" }))
   {
   
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)

        <fieldset>
            <div class="grouping">
                <label><span class="field-label">Email*</span> @Html.ValidationMessageFor(model => model.EmailAddress, string.Empty, new { @class= "help-block" })</label>
                @*@Html.ValidationMessageFor(model => model.EmailAddress, string.Empty, new { @class = "field-error" })*@
                @Html.TextBoxFor(model => model.EmailAddress, new { @class = "control", placeholder = "Email Address" })
                 <div id="forgotError"></div>
                
            </div>
            
            <button type="submit" class="btn btn-default">Submit</button>
            <span class="loading">
                <i class="fa fa-circle-o-notch fa-spin"></i> <span class="text">Loading...</span>
            </span>

        </fieldset>   
   }
    </div>
